pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

function _init()
  x = 0 
  y = 57
	music(01)
  tock = false
end

function _update()
	flying = false

  if (btn(0)) and mget(((x + 0) / 8), (y + 10) / 8) != 002 and x > -1 then 
    x = x - 1 
  end

  if (btn(1)) and mget(((x - 1) / 8) + 1, (y + 10) / 8) != 002 and x <= 120 then 
    x = x + 1 
  end

  if (btn(2)) then 
    if  y > 0 then
      y = y - 1
    end
    flying = true
    sfx(06)
  end

  on_ground = mget((x + 2) / 8,((y - 4) / 8) + 1) == 003

  if not on_ground and not flying then
    y = y + 1
  end

  if time() % 0.5 == 0 then
    tock = not tock
  end

end
 
function _draw()



  cls()
  map()
  print(x)
  print(y)
  if flying then
    if tock then
      spr(019,x,y)
    else
      spr(018,x,y)
    end
	elseif tock then
    spr(017,x,y)
  else
    spr(016,x,y)
  end
end

__gfx__
000000008888888894444494bbbbbbbb11111111cccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000
000000008888888844494444bbabbbab11111111cccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000
007007008888888844444494abbbbbbb5555555555555555cccccccc000000000000000000000000000000000000000000000000000000000000000000000000
000770008888888849449444bbbbbbbb11111111cccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000
000770008888888844444444bbbbbabb55555555cccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000
007007008888888844944444bbbbbbbb55555555cccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888889444944933333333cccccccccccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000
0000000088888888444444443333333355555555cccccccccccccccc000000000000000000000000000000000000000000000000000000000000000000000000
008888000088880000888800008888000000000000000000cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
087777800877778008777780087777800000000000000000cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
087777800877778008777780087777800000000000000000cccccccccc7777cccc7777cc00000000000000000000000000000000000000000000000000000000
0088880000888800008888000a8888a00000000000000000ccccccccc7777777777777cc00000000000000000000000000000000000000000000000000000000
000880000008800009088090000880000000000000000000ccccccc777777777777777cc00000000000000000000000000000000000000000000000000000000
008888000088880000888800a088880a0000000000000000ccccc77777777777777777cc00000000000000000000000000000000000000000000000000000000
000880000008800090088009a008800a0000000000000000ccc77777777777777777777c00000000000000000000000000000000000000000000000000000000
0020020000022000902a020a002902000000000000000000ccc77777777777777777777700000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000cccc7777777777777777767c00000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000ccccc777777777777777767c00000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000ccccc77777777777777766cc00000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000cccccc7777777777777677cc00000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000ccccccc77777777766677ccc00000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000cccccccc777777777777cccc00000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000cccccccccccccccccccccccc00000000000000000000000000000000000000000000000000000000
__map__
0404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606061617180606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606062627280606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060306060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060206060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030606060206060303060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020606060206060202030600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020303030203030202020300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000000000000280502f0501c0501f05000000230502f1502f15031150331503415035150351503205034050360503605000000350500000033050300502d0502c050290502805021050200500000000000
001001010505405054050540505405054050540405404054050540b0540b0540c0540c0540b0540b0540b0540b05409054070540705407054070540705405054050540e0540e0540c0540c0540e0541105411050
001000002101021010210102101021010210102101011010130101301013010130101301013010000101f0101f0101f0101f0101f0101f0100001013010130101501015010150101501017010170101501015010
001000001d7111f7101f7121f710217102471226710267102671021712217102171021712267102d7112b71029710297102b71130710377103571135710347102f71228710287102b7132d7102d7102971128710
001000001871118710177101a71221710237102571026713287102a7132b7102b7112b7102871026712237101f710267102671228710287102871229710297102b7122b7102b7102b7112b710297101071110711
00020000005000057002570075700b5700d57012570165701d5701f57020570005000050000500005000050000500005000050000500005000050000500005000050000500005000050000500005000050000500
001000001d61018610166100060005600056000460003600006000060000600006000060000600006000060000600006000060000600006000060000600006000060000600006000060000600006000060000600
__music__
01 01020344
00 01020444
00 01020344
00 01020444
00 41020344
02 41020444
00 01424344
00 41424444

